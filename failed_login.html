<!doctype html>
<html lang="tr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Giriş Yap - Sustainage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <style>
      body { background-color: #f8f9fa; }
      .navbar { margin-bottom: 20px; }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="/">Sustainage</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <!-- Dark Mode Toggle -->
            <li class="nav-item">
              <a class="nav-link" href="#" id="darkModeToggle" title="Dark/Light Mode">
                <i class="bi bi-moon-fill"></i>
              </a>
            </li>

            <!-- Language Switcher -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="langDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-globe"></i> TR
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="langDropdown">
                <li><a class="dropdown-item" href="/set-language/tr">Türkçe</a></li>
                <li><a class="dropdown-item" href="/set-language/en">English</a></li>
                <li><a class="dropdown-item" href="/set-language/de">Deutsch</a></li>
                <li><a class="dropdown-item" href="/set-language/fr">Français</a></li>
              </ul>
            </li>

            
            <li class="nav-item">
              <a class="nav-link" href="/login">Giriş</a>
            </li>
            
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      
        
          
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
              Oturum süreniz doldu veya geçerli bir şirket bulunamadı.
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          
        
      

      
<div class="row justify-content-center mt-5">
    <div class="col-md-6 col-lg-4">
        <div class="card shadow">
            <div class="card-body">
                <h3 class="card-title text-center mb-4">Giriş Yap</h3>
                <form method="POST" action="/login">
                    <div class="mb-3">
                        <label for="username" class="form-label">Kullanıcı Adı</label>
                        <input type="text" class="form-control" id="username" name="username" required autofocus>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Şifre</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>
                    
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="remember" name="remember">
                        <label class="form-check-label" for="remember">Beni Hatırla</label>
                    </div>
                    
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">Giriş Yap</button>
                    </div>
                    
                    <div class="text-center mt-3">
                        <a href="/forgot_password" class="text-decoration-none">Şifremi Unuttum / Değiştir</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- DataTables JS -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    
    <script>
      // Dark Mode Logic
      document.addEventListener('DOMContentLoaded', (event) => {
        const html = document.documentElement;
        const darkModeToggle = document.getElementById('darkModeToggle');
        
        if (darkModeToggle) {
          const icon = darkModeToggle.querySelector('i');
          
          // Load preference
          const savedTheme = localStorage.getItem('theme') || 'light';
          html.setAttribute('data-bs-theme', savedTheme);
          updateIcon(savedTheme);
          
          darkModeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-bs-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            html.setAttribute('data-bs-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateIcon(newTheme);
          });
          
          function updateIcon(theme) {
            if (theme === 'dark') {
              icon.classList.remove('bi-moon-fill');
              icon.classList.add('bi-sun-fill');
            } else {
              icon.classList.remove('bi-sun-fill');
              icon.classList.add('bi-moon-fill');
            }
          }
        }
        
        // Initialize DataTables
        // Add 'data-table' class to any table you want to enhance, OR it applies to all .table by default
        if ($.fn.DataTable) {
          const lang = document.documentElement.lang || 'tr';
          let langUrl = "//cdn.datatables.net/plug-ins/1.13.6/i18n/tr.json";
          
          if (lang === 'en') langUrl = "//cdn.datatables.net/plug-ins/1.13.6/i18n/en-GB.json";
          else if (lang === 'de') langUrl = "//cdn.datatables.net/plug-ins/1.13.6/i18n/de-DE.json";
          else if (lang === 'fr') langUrl = "//cdn.datatables.net/plug-ins/1.13.6/i18n/fr-FR.json";
          else if (lang === 'es') langUrl = "//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json";
          else if (lang === 'ru') langUrl = "//cdn.datatables.net/plug-ins/1.13.6/i18n/ru.json";

          $('.table:not(.no-datatable)').DataTable({
            language: {
              url: langUrl
            },
            responsive: true,
            retrieve: true, // Re-initialization hatasını önle
            paging: true,
            searching: true,
            ordering: true
          });
        }
      });

      // Auto-dismiss alerts after 5 seconds
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
          var alerts = document.querySelectorAll('.alert');
          alerts.forEach(function(alert) {
            var bsAlert = new bootstrap.Alert(alert);
            bsAlert.close();
          });
        }, 5000);
      });
    </script>
  </body>
</html>
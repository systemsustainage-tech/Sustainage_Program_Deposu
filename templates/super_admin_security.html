{% extends "base.html" %}

{% block title %}Güvenlik Ayarları{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
<div>
<h1 class="h2">Güvenlik Ayarları</h1>
<p class="text-muted mb-0">
            Şifre politikaları, oturum süreleri ve login denemeleri için temel ayarlar.
        </p>
</div>
<div class="btn-toolbar mb-2 mb-md-0">

<button class="btn btn-sm btn-outline-secondary ms-2" onclick="history.back()"><i class="bi bi-arrow-left"></i> {{ lang('btn_back', 'Geri') }}</button></div>
</div>
<div class="row g-4">
<div class="col-lg-7">
<div class="card border-0 shadow-sm">
<div class="card-header">
<h5 class="mb-0">Güvenlik Politikaları</h5>
</div>
<div class="card-body">
<form method="post">
<input name="action" type="hidden" value="save_settings"/>
<div class="mb-3">
<label class="form-label">Maksimum Login Denemesi</label>
<input class="form-control" name="sec_max_login_attempts" type="text" value="{{ settings.sec_max_login_attempts or '5' }}"/>
<div class="form-text">Art arda başarısız giriş denemesi limiti.</div>
</div>
<div class="mb-3">
<label class="form-label">Kilitleme Süresi (saniye)</label>
<input class="form-control" name="sec_lockout_seconds" type="text" value="{{ settings.sec_lockout_seconds or '600' }}"/>
<div class="form-text">Limit aşıldığında hesabın kilitli kalacağı süre.</div>
</div>
<div class="mb-3">
<label class="form-label">Oturum Zaman Aşımı (dakika)</label>
<input class="form-control" name="sec_session_timeout_minutes" type="text" value="{{ settings.sec_session_timeout_minutes or '30' }}"/>
<div class="form-text">Belirtilen süre içinde işlem yapılmazsa oturum sonlandırılır.</div>
</div>
<div class="mb-3">
<label class="form-label">Minimum Şifre Uzunluğu</label>
<input class="form-control" name="sec_password_min_length" type="text" value="{{ settings.sec_password_min_length or '10' }}"/>
<div class="form-text">Yeni şifre oluştururken zorunlu minimum karakter sayısı.</div>
</div>
<div class="form-check mb-3">
                            <input class="form-check-input" id="requireSpecial" name="sec_password_require_special" type="checkbox" value="1" {% if settings.sec_password_require_special == '1' %}checked{% endif %}/>
                            <label class="form-check-label" for="requireSpecial">
                                Şifrelerde en az bir özel karakter zorunlu olsun
                            </label>
                        </div>
<button class="btn btn-success" type="submit">
<i class="bi bi-save"></i> Ayarları Kaydet
                    </button>
</form>
</div>
</div>
</div>
<div class="col-lg-5">
<div class="card border-0 shadow-sm mb-4">
<div class="card-header">
<h5 class="mb-0">Bilgi</h5>
</div>
<div class="card-body">
<p class="mb-2">
                    Bu sayfadaki ayarlar, sistem içindeki güvenlik politikalarını
                    merkezi olarak tanımlamak için kullanılır.
                </p>
<p class="mb-2">
                    Değerler <code>system_settings</code> tablosunda saklanır ve
                    ilerleyen sprintlerde login ve oturum yönetimi ile entegre edilecektir.
                </p>
<p class="mb-0 text-muted">
                    Değişiklikler sadece super admin tarafından yapılabilir.
                </p>
</div>
</div>
</div>
</div>

{% endblock %}

